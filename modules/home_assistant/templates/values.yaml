#https://github.com/k8s-at-home/charts/tree/master/charts/home-assistant
#helm install --name home-assistant stable/home-assistant

probes:
  liveness:
    enabled: true
  readiness:
    enabled: true
  startup:
    enabled: true

env:
  TZ: "Europe/Oslo"

service:
  port:
    port: 8123

# # Enable devices to be discoverable
# hostNetwork: ${enable_host_network}

# # When hostNetwork is true set dnsPolicy to ClusterFirstWithHostNet
# dnsPolicy: ClusterFirstWithHostNet

persistence:
  config:
    enabled: true
    emptyDir: false
    # Persistent Volume Storage Class
    # If defined, storageClassName: <storageClass>
    # If set to "-", storageClassName: "", which disables dynamic provisioning
    # If undefined (the default) or set to null, no storageClassName spec is
    #   set, choosing the default provisioner.  (gp2 on AWS, standard on
    #   GKE, AWS & OpenStack)
    storageClass: "local-storage"
    accessMode: ReadWriteOnce
    size: 5Gi

# Enable a prometheus-operator servicemonitor
metrics:
  enabled: true
  serviceMonitor:
    labels:
      prometheus: default
    bearerTokenSecret:
      name: Prometheus
      key: ${ha_metrics_token}

# ingress:
#   main:
#     enabled: true
#     annotations:
#       kubernetes.io/ingress.class: traefik
#     hosts:
#     - host: ${ingress_host}
#       path: "/"
